## Makefile.am fragment sourced by src/Makefile.am.
#
# Sodipodi GnomeCanvas objects
# Author: Lauris Kaplinski <lauris@ariman.ee>
#
# Here are major objects, used for displaying things
#

display/all: display/libspdisplay.a

display/clean:
	rm -f display/libspdisplay.a $(display_libspdisplay_a_OBJECTS)

display/canvas-arena.$(OBJEXT): helper/sp-marshal.h
display/sp-canvas.$(OBJEXT): helper/sp-marshal.h

display_libspdisplay_a_SOURCES = \
	display/nr-3dutils.h \
	display/nr-3dutils.cpp \
	display/nr-arena-forward.h	\
	display/nr-arena.cpp	\
	display/nr-arena.h	\
	display/nr-arena-item.cpp	\
	display/nr-arena-item.h	\
	display/nr-arena-group.cpp	\
	display/nr-arena-group.h	\
	display/nr-arena-image.cpp	\
	display/nr-arena-image.h	\
	display/nr-arena-shape.cpp	\
	display/nr-arena-shape.h	\
	display/nr-arena-glyphs.cpp	\
	display/nr-arena-glyphs.h	\
	display/canvas-arena.cpp	\
	display/canvas-arena.h	\
	display/bezier-utils.cpp	\
	display/bezier-utils.h	\
	display/canvas-bpath.cpp	\
	display/canvas-bpath.h	\
	display/canvas-grid.cpp	\
	display/canvas-grid.h	\
	display/canvas-axonomgrid.cpp	\
	display/canvas-axonomgrid.h	\
	display/canvas-temporary-item.cpp	\
	display/canvas-temporary-item.h	\
	display/canvas-temporary-item-list.cpp	\
	display/canvas-temporary-item-list.h	\
	display/canvas-text.cpp	\
	display/canvas-text.h	\
	display/curve.cpp	\
	display/curve.h	\
	display/display-forward.h	\
	display/gnome-canvas-acetate.cpp	\
	display/gnome-canvas-acetate.h	\
	display/guideline.cpp	\
	display/guideline.h	\
	display/nr-plain-stuff-gdk.cpp	\
	display/nr-plain-stuff-gdk.h	\
	display/nr-plain-stuff.cpp	\
	display/nr-plain-stuff.h	\
	display/nr-svgfonts.cpp		\
	display/nr-svgfonts.h		\
	display/rendermode.h		\
	display/snap-indicator.cpp	\
	display/snap-indicator.h	\
	display/sodipodi-ctrl.cpp	\
	display/sodipodi-ctrl.h	\
	display/sodipodi-ctrlrect.cpp	\
	display/sodipodi-ctrlrect.h	\
	display/sp-canvas-util.cpp	\
	display/sp-canvas-util.h	\
	display/sp-canvas.cpp	\
	display/sp-canvas.h	\
	display/sp-ctrlline.cpp	\
	display/sp-ctrlline.h \
	display/sp-ctrlquadr.cpp \
	display/sp-ctrlquadr.h \
	display/nr-filter.cpp           \
	display/nr-filter.h             \
	display/nr-filter-blend.cpp     \
	display/nr-filter-blend.h       \
	display/nr-filter-colormatrix.cpp	\
	display/nr-filter-colormatrix.h	\
	display/nr-filter-component-transfer.cpp	\
	display/nr-filter-component-transfer.h	\
	display/nr-filter-composite.h	\
	display/nr-filter-composite.cpp	\
	display/nr-filter-convolve-matrix.cpp	\
	display/nr-filter-convolve-matrix.h	\
	display/nr-filter-diffuselighting.cpp     \
	display/nr-filter-diffuselighting.h       \
    display/nr-filter-displacement-map.cpp      \
    display/nr-filter-displacement-map.h        \
	display/nr-filter-flood.cpp  \
	display/nr-filter-flood.h    \
	display/nr-filter-gaussian.cpp  \
	display/nr-filter-gaussian.h    \
	display/nr-filter-getalpha.cpp	\
	display/nr-filter-getalpha.h	\
    display/nr-filter-image.cpp	\
    display/nr-filter-image.h	\
	display/nr-filter-merge.cpp	\
	display/nr-filter-merge.h	\
	display/nr-filter-morphology.cpp	\
	display/nr-filter-morphology.h	\
	display/nr-filter-offset.cpp	\
	display/nr-filter-offset.h	\
	display/nr-filter-primitive.cpp \
	display/nr-filter-primitive.h   \
	display/nr-filter-slot.cpp      \
	display/nr-filter-slot.h        \
	display/nr-filter-specularlighting.cpp     \
	display/nr-filter-specularlighting.h       \
	display/nr-filter-tile.cpp	\
	display/nr-filter-tile.h	\
	display/nr-filter-turbulence.cpp      \
	display/nr-filter-turbulence.h        \
	display/nr-filter-pixops.h	\
	display/nr-filter-types.h       \
	display/nr-filter-units.h	\
	display/nr-filter-units.cpp	\
	display/nr-filter-utils.h       \
	display/nr-filter-utils.cpp     \
	display/pixblock-scaler.cpp     \
	display/pixblock-scaler.h       \
	display/pixblock-transform.cpp  \
	display/pixblock-transform.h    \
	display/inkscape-cairo.cpp      \
	display/inkscape-cairo.h		\
	display/nr-light.h				\
	display/nr-light.cpp			\
	display/nr-light-types.h

display_bezier_utils_test_SOURCES = display/bezier-utils-test.cpp
display_bezier_utils_test_LDADD = libnr/libnr.a -lglib-2.0

# Copy/paste from libnr
display/test-display-main.cpp: display/test-display.cpp
	$(top_srcdir)/cxxtest/cxxtestgen.pl --template=$(srcdir)/selfname.tpl -root -o display/test-display-main.cpp $(display_test_display_includes)

display/test-display.cpp: $(display_test_display_includes)
	$(top_srcdir)/cxxtest/cxxtestgen.pl -part -o display/test-display.cpp $(display_test_display_includes)

display_test_display_includes = \
	$(srcdir)/display/bezier-utils-test.h

display_libtest_display_a_SOURCES = \
	display/test-display.cpp \
	$(display_test_display_includes)

display_test_display_SOURCES = \
	display/test-display-main.cpp \
	$(display_test_display_includes)

display_test_display_LDADD = \
	libnr/libnr.a \
	display/libtest-display.a \
	-lglib-2.0

