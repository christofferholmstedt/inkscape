## Makefile.am fragment sourced by src/Makefile.am.

libnr/all: libnr/libnr.a

libnr/clean:
	rm -f libnr/libnr.a libnr/libtest-nr.a $(libnr_libnr_a_OBJECTS) $(libnr_libtest_nr_a_OBJECTS)

if USE_MMX
libnr_mmx_sources =	\
	libnr/have_mmx.S	\
	libnr/nr_mmx_R8G8B8A8_P_EMPTY_A8_RGBAP.S	\
	libnr/nr_mmx_R8G8B8A8_P_R8G8B8A8_P_A8_RGBAP.S	\
	libnr/nr_mmx_R8G8B8A8_P_R8G8B8A8_P_R8G8B8A8_N_TRANSFORM.S	\
	libnr/nr_mmx_R8G8B8_R8G8B8_R8G8B8A8_P.S
endif

libnr_libnr_a_SOURCES =	\
	libnr/in-svg-plane.h	\
	libnr/n-art-bpath.h	\
	libnr/n-art-bpath-2geom.cpp \
	libnr/n-art-bpath-2geom.h \
	libnr/nr-blit.cpp	\
	libnr/nr-blit.h	\
	libnr/nr-compose-transform.cpp	\
	libnr/nr-compose-transform.h	\
	libnr/nr-compose.cpp	\
	libnr/nr-compose.h	\
	libnr/nr-convert2geom.h	\
	libnr/nr-convex-hull.h	\
	libnr/nr-coord.h	\
	libnr/nr-dim2.h	\
	libnr/nr-forward.h	\
	libnr/nr-gradient.cpp	\
	libnr/nr-gradient.h	\
	libnr/nr-i-coord.h	\
	libnr/nr-macros.h	\
	libnr/nr-matrix-div.cpp	\
	libnr/nr-matrix-div.h	\
	libnr/nr-matrix-fns.cpp	\
	libnr/nr-matrix-fns.h	\
	libnr/nr-matrix-ops.h	\
	libnr/nr-matrix-rotate-ops.cpp	\
	libnr/nr-matrix-rotate-ops.h	\
	libnr/nr-matrix-scale-ops.h	\
	libnr/nr-matrix-translate-ops.h	\
	libnr/nr-matrix.cpp	\
	libnr/nr-matrix.h	\
	libnr/nr-maybe.h	\
	libnr/nr-object.cpp	\
	libnr/nr-object.h	\
	libnr/nr-path-code.h	\
	libnr/nr-pixblock-line.cpp	\
	libnr/nr-pixblock-line.h	\
	libnr/nr-pixblock-pattern.cpp	\
	libnr/nr-pixblock-pattern.h	\
	libnr/nr-pixblock-pixel.cpp	\
	libnr/nr-pixblock-pixel.h	\
	libnr/nr-pixblock.cpp	\
	libnr/nr-pixblock.h	\
	libnr/nr-pixops.h	\
	libnr/nr-point-fns.cpp	\
	libnr/nr-point-fns.h	\
	libnr/nr-point-l.h	\
	libnr/nr-point-matrix-ops.h	\
	libnr/nr-point-ops.h	\
	libnr/nr-point.h	\
	libnr/nr-rect-l.cpp	\
	libnr/nr-rect-l.h	\
	libnr/nr-rect.cpp	\
	libnr/nr-rect.h	\
	libnr/nr-rect-ops.h	\
	libnr/nr-render.h	\
	libnr/nr-rotate-fns.cpp	\
	libnr/nr-rotate-fns.h	\
	libnr/nr-rotate-ops.h	\
	libnr/nr-rotate-matrix-ops.cpp	\
	libnr/nr-rotate-matrix-ops.h	\
	libnr/nr-rotate.h	\
	libnr/nr-scale-matrix-ops.cpp	\
	libnr/nr-scale-matrix-ops.h	\
	libnr/nr-scale-translate-ops.cpp	\
	libnr/nr-scale-translate-ops.h	\
	libnr/nr-scale-ops.h	\
	libnr/nr-scale.h	\
	libnr/nr-translate-matrix-ops.cpp	\
	libnr/nr-translate-matrix-ops.h	\
	libnr/nr-translate-scale-ops.cpp	\
	libnr/nr-translate-scale-ops.h	\
	libnr/nr-translate-ops.h	\
	libnr/nr-translate.h	\
	libnr/nr-translate-rotate-ops.cpp	\
	libnr/nr-translate-rotate-ops.h 	\
	libnr/nr-types.cpp	\
	libnr/nr-types.h	\
	libnr/nr-values.cpp	\
	libnr/nr-values.h	\
	$(libnr_mmx_sources)

libnr_testnr_SOURCES =	\
	libnr/testnr.cpp

libnr_testnr_LDADD =	\
	libnr/libnr.a	\
	-lglib-2.0


libnr/test-nr-main.cpp: libnr/test-nr.cpp
	$(top_srcdir)/cxxtest/cxxtestgen.pl --template=$(srcdir)/selfname.tpl -root -o libnr/test-nr-main.cpp $(libnr_test_nr_includes)

libnr/test-nr.cpp: $(libnr_test_nr_includes)
	$(top_srcdir)/cxxtest/cxxtestgen.pl --have-eh -part -o libnr/test-nr.cpp $(libnr_test_nr_includes)

libnr_test_nr_includes = \
	$(srcdir)/libnr/nr-compose-test.h	\
	$(srcdir)/libnr/nr-types-test.h	\
	$(srcdir)/libnr/nr-translate-test.h	\
	$(srcdir)/libnr/nr-rotate-test.h	\
	$(srcdir)/libnr/nr-scale-test.h	\
	$(srcdir)/libnr/nr-point-fns-test.h	\
	$(srcdir)/libnr/nr-rotate-fns-test.h	\
	$(srcdir)/libnr/in-svg-plane-test.h	\
	$(srcdir)/libnr/nr-matrix-test.h

libnr_libtest_nr_a_SOURCES =	\
	libnr/test-nr.cpp \
	libnr/nr-compose-reference.cpp \
	libnr/nr-compose-reference.h \
	$(libnr_test_nr_includes)

libnr_test_nr_SOURCES =	\
	libnr/test-nr-main.cpp \
	$(libnr_test_nr_includes)

libnr_test_nr_LDADD =	\
	libnr/libnr.a	\
	libnr/libtest-nr.a	\
	-lglib-2.0

#	-L/usr/X11R6/lib
#	-lX11

libnr_in_svg_plane_test_SOURCES = libnr/in-svg-plane-test.cpp
libnr_in_svg_plane_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_types_test_SOURCES = libnr/nr-types-test.cpp
libnr_nr_types_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_point_fns_test_SOURCES = libnr/nr-point-fns-test.cpp
libnr_nr_point_fns_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_matrix_test_SOURCES = libnr/nr-matrix-test.cpp
libnr_nr_matrix_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_rotate_test_SOURCES = libnr/nr-rotate-test.cpp
libnr_nr_rotate_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_rotate_fns_test_SOURCES = libnr/nr-rotate-fns-test.cpp
libnr_nr_rotate_fns_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_scale_test_SOURCES = libnr/nr-scale-test.cpp
libnr_nr_scale_test_LDADD = libnr/libnr.a -lglib-2.0

libnr_nr_translate_test_SOURCES = libnr/nr-translate-test.cpp
libnr_nr_translate_test_LDADD = libnr/libnr.a -lglib-2.0
